<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script type="text/javascript" th:src="@{commentScript.js}"></script>
    <script type="text/javascript"  th:src="@{userScript.js}"></script>
    <script type="text/javascript" th:src="@{postScript.js}"></script>

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">

    <title>Hello, world!</title>
  </head>
  <body>

<header>
  <div class="container">
    <nav class="navbar navbar-light bg-info row">
      <div class="d-flex justify-content-end col-12">
        <svg height="30pt" viewBox="0 -11 512 512" width="30pt" xmlns="http://www.w3.org/2000/svg"><path d="m474.667969 341.332031h-5.335938v-32c0-29.394531-23.933593-53.332031-53.332031-53.332031s-53.332031 23.9375-53.332031 53.332031v32h-5.335938c-20.585937 0-37.332031 16.746094-37.332031 37.335938v74.664062c0 20.589844 16.746094 37.335938 37.332031 37.335938h117.335938c20.585937 0 37.332031-16.746094 37.332031-37.335938v-74.664062c0-20.589844-16.746094-37.335938-37.332031-37.335938zm-80-32c0-11.753906 9.578125-21.332031 21.332031-21.332031s21.332031 9.578125 21.332031 21.332031v32h-42.664062zm0 0"/><path d="m288 378.667969c0-28.800781 17.644531-53.527344 42.667969-64v-5.335938c0-12.96875 3.132812-25.128906 8.339843-36.160156-16.128906-10.816406-35.5-17.171875-56.339843-17.171875h-181.335938c-55.871093 0-101.332031 45.460938-101.332031 101.332031v74.667969c0 8.832031 7.167969 16 16 16h272zm0 0"/><path d="m298.667969 106.667969c0 58.910156-47.757813 106.664062-106.667969 106.664062s-106.667969-47.753906-106.667969-106.664062c0-58.910157 47.757813-106.667969 106.667969-106.667969s106.667969 47.757812 106.667969 106.667969zm0 0"/></svg>
        <a class="navbar-brand pl-2 " th:href="@{/login}">Log in</a>
        <!-- Users get to see their name-->

        <div sec:authorize="hasAuthority('USER')">
          <p>Welcome, <span th:text="${#authentication.getName()}"></span></p>
        </div>

        <div sec:authorize="hasAuthority('USER')">
          <form method="post" th:action="@{/logout}">
            <button type="submit">Logout</button>
          </form>
        </div>

      </div> 
    </nav>
  </div>
</header>
<div th:if="${param.logout}" class="alert alert-success">
  You have been logged out.
</div>

<div sec:authorize="hasAuthority('USER')">
  <div class="ui form container " >
    <div class="field">
      <label>Text</label>
      <textarea id="newPostText"></textarea>
      <button type="button" onclick="createPost()" class="btn btn-info m-3">Add post</button>
    </div>
</div>



  <main class="main">
  <div class="allFeed">


  </div>
</main>


    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <!-- Option 2: jQuery, Popper.js, and Bootstrap JS
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    -->
  </body>
</html>